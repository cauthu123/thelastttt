{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Text, IconButton } from 'react-native-paper';\nimport Background from \"../components/Background\";\nimport Icon from \"@expo/vector-icons/FontAwesome\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { ref, get } from 'firebase/database';\nimport { auth, database } from \"../../firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ProfileScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var profileData = route.params.profileData;\n  var userId = auth.currentUser.uid;\n  var _useState = useState({\n      id: profileData.id,\n      image: profileData.image,\n      name: profileData.name,\n      phone: profileData.phone,\n      companyName: profileData.companyName,\n      description: profileData.description,\n      facebook: profileData.facebook,\n      linkedin: profileData.linkedin\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    userData = _useState2[0],\n    setUserData = _useState2[1];\n  var handleShare = function handleShare() {\n    var profileURL = `https://cauthu123.github.io/thelastttt/index.html?userId=${userId}&profileId=${profileData.id}`;\n    Share.share({\n      message: profileURL,\n      title: 'Chia sẻ thông tin hồ sơ'\n    }).then(function (result) {\n      return console.log(result);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n  return _jsx(Background, {\n    children: _jsxs(View, {\n      style: styles.card,\n      children: [_jsx(IconButton, {\n        icon: \"arrow-left\",\n        color: \"#000\",\n        size: 20,\n        onPress: function onPress() {\n          return navigation.reset({\n            index: 0,\n            routes: [{\n              name: 'Dashboard'\n            }]\n          });\n        },\n        style: styles.leftIcon\n      }), _jsx(IconButton, {\n        icon: \"pencil\",\n        color: \"#000\",\n        size: 20,\n        onPress: function onPress() {\n          return navigation.navigate('EditProfileScreen', {\n            profileData: userData\n          });\n        },\n        style: styles.rightIcon\n      }), _jsx(Image, {\n        style: styles.avatar,\n        source: {\n          uri: userData.image\n        }\n      }), _jsx(Text, {\n        style: styles.name,\n        children: userData.name\n      }), _jsx(Text, {\n        style: styles.title,\n        children: userData.companyName\n      }), _jsx(Text, {\n        style: styles.description,\n        children: userData.description\n      }), _jsxs(View, {\n        style: styles.iconRow,\n        children: [_jsx(Icon, {\n          name: \"phone\",\n          size: 30,\n          style: styles.icon,\n          onPress: function onPress() {\n            if (userData.phone) {\n              var phoneNumber = `tel:${userData.phone}`;\n              Linking.openURL(phoneNumber);\n            }\n          }\n        }), _jsx(Icon, {\n          name: \"facebook\",\n          size: 30,\n          style: styles.icon,\n          onPress: function onPress() {\n            if (userData.facebook) {\n              Linking.openURL(userData.facebook);\n            }\n          }\n        }), _jsx(Icon, {\n          name: \"linkedin\",\n          size: 30,\n          style: styles.icon,\n          onPress: function onPress() {\n            if (userData.linkedin) {\n              Linking.openURL(userData.linkedin);\n            }\n          }\n        }), _jsx(Icon, {\n          name: \"share\",\n          style: styles.icon,\n          size: 30,\n          onPress: handleShare\n        })]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  card: {\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5,\n    padding: 16,\n    alignItems: 'center',\n    width: 'auto',\n    height: 'auto'\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    marginBottom: 10\n  },\n  name: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 5\n  },\n  title: {\n    fontSize: 16,\n    color: '#555',\n    marginBottom: 5\n  },\n  description: {\n    paddingTop: 16,\n    fontSize: 14,\n    color: '#777'\n  },\n  iconRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingTop: 5\n  },\n  icon: {\n    padding: 20,\n    marginRight: 5,\n    color: '#3B5998'\n  },\n  shareIcon: {\n    position: 'absolute',\n    right: 1\n  },\n  leftIcon: {\n    position: 'absolute',\n    left: 1\n  },\n  rightIcon: {\n    position: 'absolute',\n    right: 1\n  },\n  webView: {\n    flex: 1\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","Image","Alert","TouchableOpacity","Text","IconButton","Background","Icon","Linking","Share","ref","get","auth","database","jsx","_jsx","jsxs","_jsxs","ProfileScreen","_ref","route","navigation","profileData","params","userId","currentUser","uid","_useState","id","image","name","phone","companyName","description","facebook","linkedin","_useState2","_slicedToArray","userData","setUserData","handleShare","profileURL","share","message","title","then","result","console","log","catch","error","children","style","styles","card","icon","color","size","onPress","reset","index","routes","leftIcon","navigate","rightIcon","avatar","source","uri","iconRow","phoneNumber","openURL","create","backgroundColor","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","padding","alignItems","marginBottom","fontSize","fontWeight","paddingTop","flexDirection","marginRight","shareIcon","position","right","left","webView","flex"],"sources":["E:/Github/thelastttt/src/screens/ProfileScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, StyleSheet, Image, Alert, TouchableOpacity } from 'react-native';\r\nimport { Text, IconButton } from 'react-native-paper';\r\nimport Background from '../components/Background';\r\nimport Icon from 'react-native-vector-icons/FontAwesome';\r\nimport { Linking, Share } from 'react-native';\r\nimport { ref, get } from 'firebase/database';\r\nimport { auth, database } from '../../firebase';\r\n\r\nexport default function ProfileScreen({ route, navigation }) {\r\n  const { profileData } = route.params; // Lấy dữ liệu hồ sơ từ route.params\r\n  const userId = auth.currentUser.uid;\r\n  // Sử dụng profileData để hiển thị thông tin hồ sơ\r\n  const [userData, setUserData] = useState({\r\n    id: profileData.id,\r\n    image: profileData.image,\r\n    name: profileData.name,\r\n    phone: profileData.phone,\r\n    companyName: profileData.companyName,\r\n    description: profileData.description,\r\n    facebook: profileData.facebook,\r\n    linkedin: profileData.linkedin,\r\n  });\r\n\r\n  // const [profileURL, setProfileURL] = useState('');\r\n  // const [showWebView, setShowWebView] = useState(false);\r\n  // const [webViewUrl, setWebViewUrl] = useState('');\r\n  // const profileURL = `http://192.168.1.3:5500/detail.html?userId=${userId}&profileId=${profileData.id}`;\r\n  // const handleShare = () => {\r\n  //   const NFC = `http://192.168.1.3:5500/NFC.html`;\r\n  //   setWebViewUrl(NFC);\r\n  //   setShowWebView(true);\r\n  // };\r\n  // const handleGoBack = () => {\r\n  //   setShowWebView(false);\r\n  // };\r\n\r\n  // if (showWebView) {\r\n  //   return <WebViewScreen url={webViewUrl} onGoBack={handleGoBack} />;\r\n  // }\r\n\r\n\r\n\r\n  const handleShare = () => {\r\n    const profileURL = `https://cauthu123.github.io/thelastttt/index.html?userId=${userId}&profileId=${profileData.id}`;\r\n    Share.share({\r\n      message: profileURL,\r\n      title: 'Chia sẻ thông tin hồ sơ'\r\n    })\r\n      .then(result => console.log(result))\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n  return (\r\n    <Background>\r\n      <View style={styles.card}>\r\n        <IconButton\r\n          icon=\"arrow-left\"\r\n          color=\"#000\"\r\n          size={20}\r\n          onPress={() =>\r\n            navigation.reset({\r\n              index: 0,\r\n              routes: [{ name: 'Dashboard' }],\r\n            })\r\n          }\r\n          style={styles.leftIcon}\r\n        />\r\n        <IconButton\r\n          icon=\"pencil\"\r\n          color=\"#000\"\r\n          size={20}\r\n          onPress={() =>\r\n            navigation.navigate('EditProfileScreen', {\r\n              profileData: userData,\r\n            })\r\n          }\r\n          style={styles.rightIcon}\r\n        />\r\n        <Image\r\n          style={styles.avatar}\r\n          source={{ uri: userData.image }}\r\n        />\r\n        <Text style={styles.name}>{userData.name}</Text>\r\n        <Text style={styles.title}>{userData.companyName}</Text>\r\n        <Text style={styles.description}>{userData.description}</Text>\r\n\r\n        <View style={styles.iconRow}>\r\n          <Icon\r\n            name=\"phone\"\r\n            size={30}\r\n            style={styles.icon}\r\n            onPress={() => {\r\n              if (userData.phone) {\r\n                const phoneNumber = `tel:${userData.phone}`;\r\n                Linking.openURL(phoneNumber);\r\n              }\r\n            }}\r\n          />\r\n          <Icon\r\n            name=\"facebook\"\r\n            size={30}\r\n            style={styles.icon}\r\n            onPress={() => {\r\n              if (userData.facebook) {\r\n                Linking.openURL(userData.facebook);\r\n              }\r\n            }}\r\n          />\r\n          <Icon\r\n            name=\"linkedin\"\r\n            size={30}\r\n            style={styles.icon}\r\n            onPress={() => {\r\n              if (userData.linkedin) {\r\n                Linking.openURL(userData.linkedin);\r\n              }\r\n            }}\r\n          />\r\n          <Icon\r\n            name=\"share\"\r\n            style={styles.icon}\r\n            size={30}\r\n            onPress={handleShare}\r\n          />\r\n        </View>\r\n      </View>\r\n    </Background>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 10,\r\n    shadowColor: '#000',\r\n    shadowOffset: { width: 0, height: 2 },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5,\r\n    padding: 16,\r\n    alignItems: 'center',\r\n    width: 'auto',\r\n    height: 'auto',\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 50,\r\n    marginBottom: 10,\r\n  },\r\n  name: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 5,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    color: '#555',\r\n    marginBottom: 5,\r\n  },\r\n  description: {\r\n    paddingTop: 16,\r\n    fontSize: 14,\r\n    color: '#777',\r\n  },\r\n  iconRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingTop: 5,\r\n  },\r\n  icon: {\r\n    padding: 20,\r\n    marginRight: 5,\r\n    color: '#3B5998',\r\n  },\r\n  shareIcon: {\r\n    position: 'absolute',\r\n    right: 1,\r\n  },\r\n  leftIcon: {\r\n    position: 'absolute',\r\n    left: 1,\r\n  },\r\n  rightIcon: {\r\n    position: 'absolute',\r\n    right: 1,\r\n  },\r\n  webView: {\r\n    flex: 1,\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}